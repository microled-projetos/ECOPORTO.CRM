@model Ecoporto.CRM.Site.Models.SimuladorPropostaViewModel
@using Ecoporto.CRM.Site.Helpers

<br />

@using (Ajax.BeginForm("CadastrarParametrosSimulador", "SimuladorProposta", new AjaxOptions()
{
    UpdateTargetId = "pnlSimuladoresProposta",
    HttpMethod = "POST",
    OnSuccess = "simuladorMensagemSucesso",
    OnFailure = "oportunidadeMensagemErro"
}))
{
    <div class="form-row">

        @Html.HiddenFor(model => model.SimuladorPropostaId)
        @Html.HiddenFor(model => model.SimuladorPropostaOportunidadeId)

        <div class="form-group col-md-7">
            @Html.LabelFor(model => model.SimuladorPropostaModeloId)
            @Html.PrivilegedDropDownListFor(model => model.SimuladorPropostaModeloId, new MultiSelectList(Model.SimuladorPropostaModelos, "ModeloSimuladorId", "Descricao"), "form-control")
        </div>

        <div class="form-group col-md-1">
            @Html.LabelFor(model => model.SimuladorPropostaPeriodos)
            @Html.PrivilegedEditorFor(model => model.SimuladorPropostaPeriodos, "form-control")
        </div>

        @*<div class="form-group col-md-1">
            @Html.LabelFor(model => model.SimuladorPropostaNumeroLotes)
            @Html.PrivilegedEditorFor(model => model.SimuladorPropostaNumeroLotes, "form-control")
        </div>*@

        <div class="form-group col-md-1">
            @Html.LabelFor(model => model.SimuladorPropostaVolumeM3)
            @Html.PrivilegedEditorFor(model => model.SimuladorPropostaVolumeM3, "form-control")
        </div>

        <div class="form-group col-md-1">
            @Html.LabelFor(model => model.SimuladorPropostaPeso)
            @Html.PrivilegedEditorFor(model => model.SimuladorPropostaPeso, "form-control")
        </div>

        <div class="form-group col-md-1">
            @Html.LabelFor(model => model.SimuladorPropostaCif)
            @Html.EditorFor(model => model.SimuladorPropostaCif, new { htmlAttributes = new { @class = "form-control" } })
        </div>

        <div class="form-group col-md-1">
            <label for="btnCadastrar">&nbsp;</label>
            <button type="submit" class="btn btn-primary btn-block btn-as-block"><i class="fas fa-save"></i>&nbsp;Salvar</button>
        </div>

    </div>

    <div id="pnlSimuladoresProposta">
        @Html.Partial("~/Views/SimuladorProposta/_ConsultaParametros.cshtml", Model.SimuladoresCadastrados)
    </div>

    <br />
    <br />
    <div class="form-row">
        <div class="form-group col-md-12">
            <div id="AbaSimuladorResultado"></div>
        </div>
    </div>

}

